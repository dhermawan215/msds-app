var Index=function(){var csrf_token=$('meta[name="csrf_token"]').attr("content"),table,handleDataTabelUser=function(){table=$("#tbl-health-hazard").DataTable({responsive:!0,autoWidth:!0,pageLength:15,searching:!0,paging:!0,lengthMenu:[[15,25,50],[15,25,50]],language:{info:"Show _START_ - _END_ from _TOTAL_ data",infoEmpty:"Show 0 - 0 from 0 data",infoFiltered:"",zeroRecords:"Data not found",loadingRecords:"Loading...",processing:"Processing..."},columnsDefs:[{searchable:!1,target:[0,1]},{orderable:!1,target:0}],processing:!0,serverSide:!0,ajax:{url:url+"/health-hazard/list",type:"POST",data:{_token:csrf_token}},columns:[{data:"rnum",orderable:!1},{data:"code",orderable:!1},{data:"desc",orderable:!1},{data:"lang",orderable:!1},{data:"action",orderable:!1}]}),$("#btnRefresh").click((function(e){e.preventDefault(),table.ajax.reload()})),-1!==$.inArray("add",ModuleFn)?$("#add-data").removeClass("disabled"):$("#add-data").addClass("disabled")},handleDelete=function(){$(document).on("click",".btn-delete-data",(function(){const dataButton=$(this).data("button");confirm("Are you sure delete this data?")&&$.ajax({url:url+"/health-hazard/delete/"+dataButton,type:"DELETE",data:{_token:csrf_token},success:function(responses){toastr.success(responses.message),setTimeout(()=>{window.location.reload()},4500)},error:function(response){$.each(response.responseJSON,(function(key,value){toastr.error(value)}))}})}))};return{init:function(){handleDataTabelUser(),handleDelete()}}}();$(document).ready((function(){Index.init()}));